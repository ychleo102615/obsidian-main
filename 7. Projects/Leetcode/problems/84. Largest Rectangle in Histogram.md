---
tags:
  - Stack
date: 2025-03-17
time: 23:43
---
[84. Largest Rectangle in Histogram](https://leetcode.com/problems/largest-rectangle-in-histogram/)
[Largest Rectangle In Histogram](https://neetcode.io/problems/largest-rectangle-in-histogram)

這題我最初的想的方向是正確的，這與 [[239. Sliding Window Maximum]] 有類似的概念，都會用到monotone 的資料結構。這次的是monotone increasing stack。

但這個資料結構也是我看解答影片看一半才突然想出來的。

後來遇到計算太多次的問題。我發現不用每次都計算面積，只要在遇到更小的高時，結算目前高於該高的面積就可以了。同理，在迴圈走完之後，也要結算stack內所有的面積（也可以理解成遇到高為0的地方）。

最後錯在stack的`left`計算，想了一個結構`[left, height]` 去紀錄目前這個高最左可以延伸到哪裡。