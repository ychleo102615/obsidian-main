---
tags:
  - leetcode_medium
date: 2024-07-03
time: 21:51
---
[link](https://leetcode.com/problems/fraction-to-recurring-decimal/description/)

[[2025-10-28|2025-10-28 Tue, 13:17]]
錯在條件判斷：
```python
if n > d:   # 這是錯的，沒考慮 n == d 整除的情況
	res.append(str(s//d))
else:
	res.append("0")
```


[[2025-09-28|2025-09-28 Sun, 14:06]]

重新複習這題。想了蠻久的。我有想到當遇到同一個餘數的時候，代表我們進入循環了。
我有在想要不要使用cycle detection。但感覺增加額外複雜度，暫且不考慮。  參考[141. Linked List Cycle](141.%20Linked%20List%20Cycle.md)。

剩下沒處理好的事：
1. 負數的情況（我有事先計算，但是忘記套用了）
2. 0的情況（這比較需要注意，因為取決於描述計算的過程，我給了空字串）

---

目前注意到的事：
1. 被除數與除數，先化成比值（先都除以最大公因數）
2. 除數除了2, 5之外的質數，都會形成循環或是無限小數

關於分數與小數，[參考](https://dsc.nptu.edu.tw/var/file/136/1136/img/1374/n.35p.36-48.pdf)

**若將一個分數化成小數，則此小數必為有限小數或循環小數。**




解題：
把每次做除法時的餘數紀錄下來，如果遇到同一個餘數時，代表進入循環了。

我這邊一開始做錯了一個地方（也不算做錯，應該說是繞圈子），我紀錄「此餘數出現時，商數最後一個字元位置」，但解答使用的是「此餘數出現時，商數的長度」







[解答](https://leetcode.com/problems/fraction-to-recurring-decimal/solutions/5261625/1ms-beats-99-hashmap-explained/)