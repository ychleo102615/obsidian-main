---
tags:
  - 1D-dp
date: 2025-03-01
time: 20:37
---
[152. Maximum Product Subarray](https://leetcode.com/problems/maximum-product-subarray/)
[Maximum Product Subarray](https://neetcode.io/problems/maximum-product-subarray)

[[2025-03-18|2025-03-18 Tue, 22:15]]
同3/11，忘記swap

[[2025-03-11|2025-03-11 Tue, 22:38]]
複習neetcode，遇到一樣的bug，就是swap型的bug。

---


這題我一開始有想到 [[238. Product of Array Except Self]] ，但是要用的演算法並不一樣。
後來想到的是像 [[309. Best Time to Buy and Sell Stock with Cooldown]] 的一種解法，就是保持一個狀態往下遞進。
這題我想的dp就是「包含此數的最大、最小乘積」。
然後每當碰到小於0的數字，就會用上最小乘積。遇到0的時候，相當於會reset掉這個狀態。

#### bug
- 第一次提交有錯，錯在只有一個負值的時候，我的預設狀態會出錯。所以預設狀態就改用`nums[0]`了。
- 對了，我還有遇到一個bug，就是我計算完了max之後，卻可能又需要上回合的max計算最小值。

解答影片的預設狀態比較好，他直接設定為1。