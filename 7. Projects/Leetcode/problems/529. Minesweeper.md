---
tags:
  - leetcode_medium
date: 2024-08-28
time: 22:35
cards-deck: leetcode
---

# [529. Minesweeper](https://leetcode.com/problems/minesweeper/) #card
這是一個 use case，不是遊戲循環。
^1768804826680


[[2026-01-19|2026-01-19 Mon, 14:30]]
今天算是沒什麼困難就解出來了。
上次的筆記看起來很複雜，也不太對。我今天想的演算法應該就挺單純的。

首先要讀懂題目。他不是叫你模擬遊戲，而是單純一個操作 use case 的狀態更新：就是點一下。
所以沒有標記，也沒有遊戲勝負，沒有其他遊戲規則要注意。

我們要做的就只有一件事：把這個沒點開的格子點開。（沒點開的狀態是題目給的條件）。

所以輸入只有可能得到 M, E。 

###### M 很單純，換成 X 即可，代表踩到地雷。

###### E 則是本題的主要演算法要實踐的地方。

我們點開 E 的結果有兩種：B 或者是數字 1 ~ 8。
E 代表八個鄰接格子都沒有地雷。

如果是數字的話，代表我們需要停下來，不會再往外擴展。如果是 E 的話，則可以檢查這八個鄰格是否可以擴展。

是 E 的話就可以，不是的話（其他可能性就是數字）就不擴展。

那主要就是在考這個 DFS 的實作吧。


---

這題先想到要用BFS，而且用的是朝八個方向去搜尋的方式。

我有一個認為比較特別的想法：搜尋到未開啟的地雷時，直接對其九宮格範圍增加計數，而不是對一個空格的九宮格範圍內去數地雷的數量。
因為我覺得後者需要耗費過多演算資源。

另外，搜尋過後要標記該地雷已被計算，以免之後從其他方向的BFS重複計算。
我一開始是在遇到已有計數的空格時要跳過搜尋（防止地雷重複計算），但後來發現這方式會導致BFS有沒走到的地方。
所以改為標記地雷。