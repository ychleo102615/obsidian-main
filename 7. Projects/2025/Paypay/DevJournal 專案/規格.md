---
tags: []
date: 2025-05-18
time: 14:49
---
## ✅ 1. DevJournal 技術規格書（Technical Spec）

### 📌 專案簡介

**名稱**：DevJournal  
**定位**：一個讓開發者發表部落格、追蹤作者、收到通知的中小型平台。支援用戶驗證、發文、訂閱、留言、即時通知、使用率監控。

---

### 🧩 系統架構概覽（MVP 版本）

複製編輯
```
[Client]
   |
[API Gateway]
   |
+----------------------------+
| Auth Service              |
| Blog Service              |
| Notification Service      |
+----------------------------+
        |
     [Database]
```

---

### 🧱 功能模組

#### ✅ Auth Service
- 註冊 / 登入（JWT）
- 權限驗證（RBAC 可簡化為 User / Admin）

#### ✅ Blog Service
- CRUD for Blog
- 分頁查詢、搜尋（by tag / author）
- 訂閱作者

#### ✅ Notification Service
- 當作者發文 / 有新留言，推送通知（起初用 polling，後期用 WebSocket）
- 事件推播架構：可用 Kafka or Redis Pub/Sub 模擬 decoupled event

#### ✅ Comment System
- 留言新增、刪除
- 可串接 Notification service 通知被留言的人

#### ✅ Metrics (Monitoring)
- API hit count per endpoint
- Time-based data (ex: 每日用戶發文量) → 可先儲存在 MongoDB

#### ✅ Rate Limiter（進階）
- 每分鐘最多留言數（可用 Redis + sliding window 模擬）
    

---

### 🗄️ 資料庫設計（可簡化為以下三類）

#### PostgreSQL

`User(id, username, email, password_hash, role) Post(id, title, content, created_at, author_id) Comment(id, post_id, user_id, content, created_at) Subscription(follower_id, author_id)`

#### Redis（快取 + 限速）
- Cache recent posts
- Token Bucket for rate limiting
    
#### MongoDB（metrics）
- EndpointHits { path, timestamp }
- DailyStats { date, user_id, post_count }
    

---

### 🌐 技術選型

| 類別     | 技術                                            |
| ------ | --------------------------------------------- |
| 語言     | Python (FastAPI) / Node.js (NestJS)           |
| DB     | PostgreSQL + Redis + MongoDB                  |
| 部署     | Docker + Railway / Render                     |
| API 記錄 | Logging middleware                            |
| 微服務框架  | RESTful API + service split by docker-compose |
