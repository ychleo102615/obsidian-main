---
tags:
  - Dijkstra
  - SPFA
date: 2025-04-22
time: 22:33
---
# 🚀 Dijkstra 原理（簡版）

1. **初始化**：
    - 每個點的距離設為∞，起點距離設為0。
    - 用一個**最小堆（Min-Heap）**存放 `(距離, 節點)`。
2. **每次取出距離最小的點**：
    - 從堆中拿出**目前最短距離**的節點。
3. **鬆弛（Relax）相鄰節點**：
    - 嘗試用「目前點的距離 + 邊權重」來更新鄰居的最短距離。
    - 如果成功更新，把鄰居丟進堆。
4. **直到堆空**，全部節點的最短路徑就確定了。
    
---
# 🧠 超短直覺版

> **總是走目前最短的路，慢慢擴散出去。**

（像水波一樣，從起點開始最短地蔓延。）

---

# ✨ 一句話定義

> Dijkstra finds the shortest paths from a start node to all others by **always expanding the currently closest node first**.


# Prim's Algorithm vs Dijkstra's Algorithm

**（相似點與不同點整理）**

| 項目       | Prim's Algorithm                         | Dijkstra's Algorithm                       |
| -------- | ---------------------------------------- | ------------------------------------------ |
| 目標       | 找出最小生成樹 (Minimum Spanning Tree, MST)     | 找出單源最短路徑 (Single Source Shortest Path)     |
| 初始設定     | 從任一節點開始，逐步加入最便宜的邊和點                      | 從起點開始，累積最短路徑長度到其他點                         |
| 選擇標準     | 選「邊權重」最小的連接未訪問節點                         | 選「目前累積距離」最小的未訪問節點                          |
| 使用資料結構   | 最小堆 (min-heap) 或 Priority Queue （以邊權為關鍵） | 最小堆 (min-heap) 或 Priority Queue （以累積距離為關鍵） |
| 關心的是什麼   | 邊權重總和最小                                  | 起點到每個點的距離最小                                |
| 適用的圖     | 無向圖（且需連通）                                | 有向或無向圖（不一定要連通，視題目而定）                       |
| 可以有負權重邊？ | **可以**（但一般情況MST題目不考慮）                    | **不能**（會導致錯誤，需用Bellman-Ford）               |
## 小總結：一句話記住
- **Prim's**：我想連起來，邊越短越好（**MST問題**）
- **Dijkstra**：我想從起點走到其他點，總路徑越短越好（**單源最短路徑問題**）


# Dijkstra vs Bellman-Ford

（概念直覺、流程差異）

|項目|Dijkstra|Bellman-Ford|
|---|---|---|
|目標|單源最短路徑 (Single Source Shortest Path)|單源最短路徑|
|是否容許負權重？|❌ 不可以有負權邊（負邊會出錯）|✅ 可以有負權邊（但不能有負環）|
|概念直覺|每次挑「目前距離最小」的點，一旦挑出來就「**確定了最短路徑**」|允許「**不斷鬆弛 (relaxation)**」，即使更新過也沒關係，直到收斂為止|
|過程|貪心（Greedy）＋局部確定|動態規劃（Dynamic Programming）思維：反覆嘗試更新|
|複雜度|O((V + E) log V)（用heap）|O(VE)|
|負環檢測|❌ 無法偵測負環|✅ 可以偵測負環（再做一輪更新時如果還能變小，代表有負環）|
|資料結構|最小堆 (Priority Queue)|單純迴圈|
|常用場合|正權重圖，要求快！|有負權重的情況，或需要檢查負環|
- **Dijkstra**：從堆中拿出來的那個節點，從起點到它的最短距離就**確定**了（因為只有正權邊，之後無法再找到更短的路了）
- **Bellman-Ford**：**每條邊**都可以嘗試更新（relax），即使之前更新過，後面再更新也可以，只要找到更短的路就不斷改，直到「整張圖都穩定下來」為止。

簡單說：
- **Dijkstra = 確定一個個點的最短距離，步步確定**
- **Bellman-Ford = 整個圖一起動態調整，反覆鬆弛直到收斂**