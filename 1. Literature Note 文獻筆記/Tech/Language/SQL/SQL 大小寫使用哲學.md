---
tags: []
date: 2025-08-24
time: 21:31
---
## 1. SQL 標準與大小寫規則

- **SQL 語言關鍵字**（`SELECT`, `FROM`, `WHERE`）在標準上**不區分大小寫**。你寫 `select` 或 `SELECT` 都可，很多團隊習慣關鍵字用大寫，資料庫物件用小寫，視覺上易讀。
    
- **識別字表名、欄位名**  的標準規則：
    
    - 不加引號時：資料庫可能會自動大小寫正規化（通常轉成小寫或大寫）。
        
    - 加雙引號 `"` 包起來時：大小寫將嚴格區分，必須完全符合建立時的大小寫。
        

這是 SQL 標準的行為，但各家資料庫實作不同，才會有實務哲學的考量。

---

## 2. 常見資料庫大小寫行為差異

- **PostgreSQL：**
    
    - 不加雙引號，會把識別字轉成小寫儲存。
        
        `CREATE TABLE Todo (Id int);  -- 實際表名：todo，欄位：id`
        
    - 如果你加引號：
        
        `CREATE TABLE "Todo" ("Id" int);`
        
        表名和欄位名會嚴格區分大小寫，以後查詢要 `SELECT "Id" FROM "Todo"`，非常麻煩。
        
    - 因此 **PostgreSQL 社群哲學**：全小寫 + 底線，避免大小寫引用。
        
- **MySQL：**
    
    - 在 Windows 預設不區分大小寫（表名對應檔案系統），Linux 依檔案系統行為（大小寫敏感），跨平台有雷。
        
    - 欄位名大小寫幾乎不敏感，但仍建議統一。
        
- **Oracle：**
    
    - 不加引號會轉大寫儲存（所以查 `USER_TABLES` 常看到大寫）。
        
    - 加雙引號才保留原始大小寫。
        
- **SQL Server：**
    
    - 視排序規則（collation）決定大小寫敏感與否。
        

結論：**跨資料庫時，不要混用大小寫 + 引號。**

---

## 3. 團隊／社群常見「大小寫哲學」

### (A) 關鍵字大寫，識別字小寫

- `SELECT id, title FROM todos WHERE created_at > NOW();`
    
- 好處：一眼就能分辨語法與資料物件。
    

### (B) 識別字全小寫 + 底線

- 表名用複數：`todos`，欄位 `created_at`
    
- 好處：跨資料庫不踩大小寫雷、閱讀直覺。
    

### (C) Hibernate / JPA 命名策略

- Java Entity 用駝峰：`createdAt`
    
- Hibernate 會轉成資料庫欄位：`created_at`（小寫 + 底線）
    
- 好處：程式碼語意好、資料庫維護方便。
    

### (D) 避免用引號維持大小寫

- 一旦用了引號，日後查詢都要帶引號，極易出錯，ORM 也容易因駝峰對不上引號名稱出問題。
    

---

## 4. 部署/維運時的大小寫考量

- **跨平台一致性**：Linux 和 Windows 對檔名大小寫處理不同，影響 MySQL 表名。
    
- **備份/還原**：某些工具會保留大小寫，混用會導致問題。
    
- **ORM 自動建表**：選好命名策略，避免手動建表與程式碼命名對不上。
    

---

## 5. 實務哲學總結

- **表名、欄位名建議全小寫 + 底線，不用雙引號**，最安全、最可攜。
    
    - `users`、`user_profiles`、`created_at`
        
- **程式碼可用駝峰，交給 ORM 命名策略轉換**。
    
- **SQL 關鍵字可用大寫，便於閱讀**。
    
- **避免在資料庫層用保留字或混大小寫，需要就加 `_` 或改名**。
    

這就是為什麼你看到 Hibernate 預設會把 `Todo` 類轉成 `todo` 表、`createdAt` 轉成 `created_at`。