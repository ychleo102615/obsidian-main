---
tags:
  - frontend-knowledge
date: 2026-01-29
time: 16:10
---


#flashcards/browser-rendering

Composite Layer 是什麼？
?
瀏覽器將網頁分解成的獨立圖層 每個圖層獨立繪製、存在 GPU 記憶體中 最後由 GPU 合成為最終畫面
<!--SR:!2026-01-30,1,230-->

will-change: transform 的用途是什麼？
?
獨立出一個渲染單位（layer） 當這個 layer 頻繁更新時，其他 layer 不受影響 避免「牽一髮動全身」的重繪問題
<!--SR:!2026-02-01,3,250-->

什麼情況會自動創建新的 Composite Layer？
?
3D 或透視變換（transform: translateZ(0)） video, canvas, iframe 元素 CSS 濾鏡（filter: blur()） fixed/sticky 定位 CSS 動畫或過渡
<!--SR:!2026-02-01,3,250-->

瀏覽器是每幀都走訪所有 node 嗎？
?
不是，有 Dirty Flag（髒標記）機制 只有被標記為「髒」的元素才重新計算 但「髒」會擴散到受影響的父/子元素
<!--SR:!2026-01-30,1,230-->

為什麼 transform 動畫比 left/top 動畫快？
?
transform 只觸發 Composite，不觸發 Layout 和 Paint GPU 只需移動已繪製好的圖層位置 而 left/top 會觸發 Layout → Paint → Composite 全流程
<!--SR:!2026-02-01,3,250-->

什麼是 Layout Thrashing（佈局抖動）？
?
在同一個 JS 執行週期中交替讀寫 DOM 每次讀取（如 offsetWidth）都強制瀏覽器重新計算佈局 解法：先批量讀取所有數據，再批量寫入
<!--SR:!2026-01-30,1,230-->

瀏覽器渲染流程是什麼？
?
Layout（佈局計算） → Paint（生成繪製指令） → Composite（GPU 合成圖層）
<!--SR:!2026-02-01,3,250-->

#flashcards/http-network

從輸入網址到頁面顯示的過程？
?
1. 解析 URL（協定、主機名）
2. DNS 查詢（瀏覽器快取 → OS 快取 → hosts → DNS Server）
3. TCP 三次握手
4. TLS 加密握手
5. HTTP 請求
6. 收到 HTML
7. 解析 HTML + 下載其他資源
8. 渲染（DOM + CSSOM → Render Tree → Layout → Paint → Composite）

TLS 握手的目的是什麼？
?
驗證身份：確認伺服器是它宣稱的那個人 
協商加密參數：雙方同意使用哪種加密演算法 
建立共享密鑰：產生後續通訊用的對稱加密金鑰

TLS 1.2 vs TLS 1.3 的差異？
?
TLS 1.2 需要 2 個 RTT 完成握手 TLS 1.3 簡化為 1 個 RTT TLS 1.3 支援 0-RTT（對已連線過的伺服器可立即發送加密資料）

強快取和協商快取的差異？
?
強快取：直接使用快取，不發請求（Cache-Control: max-age, Expires） 協商快取：先向伺服器驗證，再決定用快取或新資料 協商快取標頭：ETag ↔ If-None-Match, Last-Modified ↔ If-Modified-Since
<!--SR:!2026-01-30,1,223-->

no-cache 和 no-store 的差異？
?
no-cache：可以快取，但每次使用前必須向伺服器驗證（可能得到 304） no-store：完全不快取，每次都要重新請求
<!--SR:!2026-01-31,2,243-->

async 和 defer 的差異？
?
async：下載完立刻執行，執行順序不保證 defer：下載完等 HTML 解析完才執行，保證按 HTML 出現順序執行 async 適合獨立腳本（如 analytics），defer 適合有依賴關係的腳本

CSS 會阻塞 HTML 解析嗎？
?
不會阻塞 HTML 解析（parser-blocking） 但會阻塞渲染（render-blocking） HTML 解析繼續進行，但 Render Tree 合成會等 CSSOM 完成

hosts 檔案是什麼？
?
本機電腦上的檔案，可手動指定 domain 對應的 IP Windows: C:\Windows\System32\drivers\etc\hosts Mac/Linux: /etc/hosts DNS 查詢順序：瀏覽器快取 → OS 快取 → hosts → DNS Server

#flashcards/web-security

SOP（Same-Origin Policy）防禦的是什麼？
?
防止「讀取」跨域資源，不是防止「發送」請求 發送請求：不阻止 帶上 Cookie：不阻止 讀取回應：阻止

CORS 和 SOP 的關係是什麼？
?
SOP 是鎖（預設禁止跨域讀取） CORS 是鑰匙（伺服器的白名單機制） SOP 預設禁止，CORS 選擇性開放

什麼情況會觸發 Preflight（OPTIONS 請求）？
?
需要兩個條件同時滿足：
1. 跨域請求
2. 複雜請求（PUT/DELETE、自訂 Header、Content-Type 非簡單類型） 簡單請求（GET/POST + 基本 Header）不會觸發 Preflight

CORS 檢查是誰在做？curl 會被 CORS 擋嗎？
?
瀏覽器在檢查，不是伺服器 curl / Postman / Server 對 Server 都不受 CORS 限制 CORS 是保護使用者，不是保護伺服器

SOP 為什麼防不了 CSRF？
?
SOP 只擋「讀取回應」，不擋「發送請求」 CSRF 攻擊：請求已發出且帶 Cookie，不需要讀回應 轉帳等操作只靠「發送請求」就能完成

CSRF 的防禦方式有哪些？
?
CSRF Token：表單帶一個伺服器發的隨機 token SameSite Cookie：設定 Strict 或 Lax，跨站請求不帶 Cookie 檢查 Origin/Referer：伺服器驗證請求來源

SameSite Cookie 的防護發生在什麼時候？
?
請求發出之前 瀏覽器決定要不要附上 cookie 與 SOP 不同（SOP 是事後檢查回應）

Cookie 的 HttpOnly, Secure, SameSite 各自防什麼？
?
HttpOnly：防止 JS 讀取 cookie（防 XSS 偷 cookie） Secure：只在 HTTPS 連線時傳送 SameSite：控制跨站請求是否帶 cookie（防 CSRF）

Stored XSS 是怎麼發生的？
?
惡意內容存在資料庫，被其他使用者瀏覽時執行 可能發生在：後端模板直接輸出、前端 innerHTML 渲染 防禦：輸出時 escape，或使用 textContent

除了 innerHTML，還有什麼方式可以執行 XSS？
?
document.write eval / setTimeout(string) / new Function(string) href 注入（javascript: 協定） src 注入 + onerror

#flashcards/css-layout

Flexbox 中 justify 和 align 的差異？
?
justify-content：控制主軸上的排列 align-items：控制交叉軸上的對齊 記法：Justify 管排隊方向，Align 管高矮對齊
<!--SR:!2026-01-31,2,243-->

justify 這個詞的語意來源是什麼？
?
來自印刷排版的「兩端對齊」（justified text） 控制內容如何沿著「文字流動方向」（主軸）分配空間
<!--SR:!2026-01-31,2,243-->

block, inline, inline-block 的差異？
?
block：自己佔一行，可設 width/height
inline：不換行，不能設 width/height，垂直 margin 無效
inline-block：不換行，但可設 width/height
<!--SR:!2026-01-31,2,243-->

為什麼 inline 元素不能設 width/height？
?
inline 元素的尺寸由內容決定 瀏覽器不允許你覆蓋 要改變尺寸，改用 inline-block 或 block
<!--SR:!2026-01-31,2,246-->

display: none 和 visibility: hidden 的差異？
?
display: none：從 Render Tree 移除，不佔空間 
visibility: hidden：還在 Render Tree，佔空間但不可見 兩者都在 DOM 中，都不能互動
<!--SR:!2026-01-31,2,246-->

inline-block 元素之間的空隙是怎麼來的？
?
HTML 標籤之間的換行/空格被渲染為空白字元 解法：父元素 font-size: 0（子元素再恢復） 或直接用 flex，沒這問題
<!--SR:!2026-01-30,1,223-->

CSS 百分比高度什麼時候會失效？
?
當父元素高度是 auto（由內容決定）時 形成循環依賴：子問父多高，父說看子多高 解法：建立明確的參考鏈，或用 vh/dvh 直接參考 viewport
<!--SR:!2026-01-30,1,226-->

Flexbox 中 flex-1 的子元素為什麼 h-full 會失效？
?
flex-1 的高度是動態計算的，不是明確高度 子元素的 height: 100% 找不到明確參考 解法：讓父元素也成為 flex 容器，或用 Container Query
<!--SR:!2026-01-30,1,226-->

Grid 中 justify-content vs justify-items 的差異？
?
justify-content：控制「整個 grid」在容器內的位置 justify-items：控制「所有項目」在各自 cell 內的位置 justify-self：個別項目覆寫自己的對齊方式
<!--SR:!2026-01-30,1,226-->

#flashcards/ssr

SSR 中的 Hydration 是什麼意思？
?
將伺服器渲染好的靜態 HTML「注入生命」 JavaScript 載入並執行，為 HTML 元素綁定事件監聯器 讓頁面從「可見但不可互動」變成「可見且可互動」

Hydration 完成前使用者能互動嗎？
?
技術上可以嘗試，但不會有預期效果 事件監聽器尚未綁定，點擊按鈕沒反應 可能造成「假互動」問題（如重複點擊）

SSR 對 CRP 的影響？
?
FCP 大幅縮短（HTML 到達即顯示，不需等 JS） TTI 改善有限（仍需下載和執行 JS + Hydration） 本質：將渲染工作前移到伺服器，但不能消除 JS 處理成本

SSR vs CSR 的時間軸差異？
?
CSR：下載空 HTML → 下載 JS → 執行 JS → 看到內容 = TTI SSR：下載含內容 HTML → 看到內容(FCP) → 下載 JS → Hydration = TTI SSR 的 FCP 提前，但 TTI 差異不大
