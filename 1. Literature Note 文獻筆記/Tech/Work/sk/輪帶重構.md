---
tags: []
date: 2025-09-03
time: 14:21
---
### 輪帶重構
輪帶基本架構上是從火山女神拿來的。
當初有說為了方便讓日後專案開發能夠共用，所以有很多地方寫成了Base和繼承的形式。

現在我有另一個想法是，不見得需要急著抽象化。相似的遊戲照班本來就可以開發的很快。
抽出不需要的介面，反而是在增加開發複雜度。

### 為什麼需要重構？

#### AB輪帶改成長輪帶
1. 在開發骰子時，輪帶有減速功能，本來的AB型輪帶不好使用，所以改成長輪帶表演（鱸魚1k甚至有倒帶的表現）
2. AB輪帶放任其演出，AB之間的位置會跑掉

#### 輪帶本身語意邏輯
1. 混有遊戲語意邏輯。基底輪帶不應有遊戲知識，只應有最低限度的共通邏輯。例如不應該有MG和區別是否為特殊symbol的邏輯與知識
2. 有例如fake, real等用語，容易搞混其用途。（火山女神的real後來用途是有spine動畫的輪帶，在AB輪帶當中，其實還有一個叫`realBelt`的輪帶）
3. baseReel, SpinReel 繼承混亂，許多共用的方法在兩處有不同的寫法

#### Symbol是有著強關聯的物件，反而沒有利用繼承降低重複性工作
1. 火山女神中，symbol出現在real, fake, reward, respin 等不同情況當中。在鱸魚骰子中需要調整金錢、倍率的配件功能時，就需要到處改（甚至排版的邏輯還長不一樣）

##### 把真正不會變，可以依賴的抽象定義出來，讓遊戲與輪帶元件共同依賴
目前鱸魚1000的作法（Symbol）

```
B BaseSymbol
B BaseSymbolData
  SymbolResProvider
```

reel, panel 