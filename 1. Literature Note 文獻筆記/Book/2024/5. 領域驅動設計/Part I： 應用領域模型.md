---
tags: []
date: 2024-11-06
time: 23:05
---
##### 模型是一種簡化。他是對現實的解釋：把與解決問題密切相關的方面抽象出來，而忽略無關的細節。
對知識進行「選擇性的簡化」和「有意義的結構化」。

### 模型的作用
1. 模型和設計的核心互相影響
2. 模型是團隊所有成員使用的通用語言的中樞
3. 模型是濃縮的知識


## 1. 消化知識

### 有效建模的要素
1. 模型與實作的綁定
2. 建立一種以模型為基礎的語言（領域用語+開發用語）
3. 開發富含知識的模型
4. 提煉模型：捨去不需要的概念
5. 腦力激盪和實驗
團隊進行腦力激盪的循環，將知識轉化為「有價值的模型」。



### 知識豐富的設計

#### 範例：提取一個隱藏的概念
文中舉例航運領域中，允許「超訂 overbooking 110%」。把這條規則包在「接受訂單」的方法之中會很不好。我們要把它**更清楚的表達出來**。

「超定」規則可以用策略模式提取。
```java
// class OberbookingPolicy
public boolean isAllowed(Cargo cargo, Voyage voyage) {
	return (cargo.size() + vogage.bookedCargoSize()) <= (voyage.capacity() * 1.1)
}
```

超訂是一個明確且重要的業務規則，而不只是一個不起眼的計算。



## 2. 交流與語言的使用

*p.23* 
詞彙除了類別名稱、方法名稱之外，還有模型之間的關係、組合方式等規則。
語言使用的樂普遍，理解進行的就越順暢。

所有交流以及程式碼中，都要使用Ubiquitous Language。
##### Ubiquitous Language的更改，就是對模型的修改。

領域專家：確保術語與結構是能夠充分表達領域知識的。
開發人員：留意妨礙設計的歧異與不一致。

### 大聲地建模

書中範例：
> Routing Service 找到滿足 Route Specification 的 Itinerary

利用「系統性分析」、「設計的分析能力」、「對程式碼的感覺」，來找到有用的模型與設計。
這邊書中想強調：開發人員與領域人員，應該多互相利用語言溝通。溝通的越多，越能使「Ubiquitouse Language」更加完善，可以彼此糾正用語。**這不是文件與圖式能夠做到的。**
作者甚至提到一本書「語言本能」，強調我們是如此擅長處理語言。

##### 找到更簡單的方式來表達你想說的話，再將這些新的想法應用到圖和程式碼之中。

### 文件和圖

>我們應該避免包羅萬象的物件模型圖。

模型不是圖。圖的目的是幫助表達和解釋模型。


### 書面設計文件
#### 文件應作為程式碼與口頭交流的補充。

只使用程式碼作為文件，就如同只使用詳盡的UML圖，難以理解。

#### 文件不應再重複表示「程式碼已經明確表達出的內容」。
#### 文件應當保持鮮活並保持最新。
設計文件的最大價值在於「解釋模型的概念」。

#### 解釋性模型
傳遞一般領域知識的教育工具。可以使用與軟體設計無關的其他種類模型的圖片或文字。


## 3. 綁定模型與實作

> 領域驅動設計不只要求模型「協助初期的分析工作」，也要求模型「成為設計的基礎」。


### 模式：Model-Driven Design

> 星盤使已「機械化的方式」實作了代表星空的物件導向模型。星盤是天空模型的機械實作。

程式設計和實作的過程中，總是會發現一些關鍵的知識，而細節問題則會出意料地層出不窮。

##### 軟體設計如果缺乏概念，那麼軟體充其量不過是一種「機械化的產品」：指實現有用的功能，卻無法解釋操作的原因。
用自己的話說一遍：如果程式只是一個黑箱，你無法解釋裡面運作的機制，那即使這個程式運作的很好，他也是死的。程式不能只是可以跑、可以用而已。

> Model-Driven Design不將「分析模型」與「程式設計」分離，而是尋求同時滿足的兩方面的模型。

軟體開發就是一個不斷精華模型、設計、和程式碼的「統一迭代過程」(見Part III)。


### 樣式：Hands-On Modelers
親身實踐的建模者。
**不要把建模和實作這兩個過程分離。**