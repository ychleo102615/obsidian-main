---
tags:
  - devnote
date: 2025-10-19
time: 11:41
layout: doc
---

# 流水帳

<DocDate :date="$frontmatter.date" />
[[2025-10-28|2025-10-28 Tue, 15:16]]
implement 時，指令中沒有只是去看 spec.md ，有些資訊會漏掉。
我的情境中，在 spec.md 指定使用英文，但是在後續 implement 的時候，都會自己變回中文。

[[2025-10-26|2025-10-26 Sun, 23:46]]

現在的使用場景是在做一個 accordion（手風琴）式的動畫。
通常內容物的高度是隨著子元素的內容決定。
但是當我們要做動畫的時候，transition 無法處理 auto。

CSS 的老問題：無法動畫 height: auto

  問題根源：
  - CSS 動畫需要起點數值和終點數值
  - auto 不是數值，是"由內容決定"
  - 瀏覽器無法計算從 0 到 auto 的中間值
  
  這個技巧可以稱為：
  ###### 📛 正式名稱
  "CSS Grid Template Rows Animation Technique"
  ##### 🎯 簡稱
  "The Grid Trick" 或 "fr Unit Animation"
  ##### 🔧 解決的問題
  "Animating to Auto Height" (動畫化自動高度)

可以參考的[影片](https://www.youtube.com/watch?v=B_n4YONte5A)

[[2025-10-23|2025-10-23 Thu, 22:54]]

claude code 使用 tailwind 總是偏好 v3 ，安裝時常常會自動裝 v4 。所以使用時，最好先聲明要使用哪一個版本。

claude 幫我做了一個 [[Lazy Loading]]


[[2025-10-22|2025-10-22 Wed, 11:19]]

#### 事件分類
遊戲局級事件中，宣告一局結束的 RoundEndedInstantly, RoundScored, RoundDrawn 這樣分開處理是推薦的做法。
我自己直覺認為會想要合併。但是 claude 這樣說之後，也覺得合理。
> [!NOTE]
> 我的建議
>   保持當前分開處理，因為：
>   - 符合事件驅動的單一職責原則
>   - 客戶端監聽 3 個事件並不複雜
>   - 便於未來擴展新的結束條件
>   - 數據結構差異確實很大
> 
>   除非你發現客戶端處理這三個事件有大量重複代碼，否則不建議合併。從協議設計角度看，這是清晰且合理的。

#### requestAnimationFrame
告訴瀏覽器——**下一次螢幕要重繪之前，請幫我執行這段程式**。

|比較項目|`setInterval`|`requestAnimationFrame`|
|---|---|---|
|時間控制|固定間隔執行（例如每 16ms）|由瀏覽器根據螢幕刷新率決定（通常 60FPS）|
|效率|可能在螢幕尚未準備好時繪製，造成撕裂或閃爍|與螢幕重繪同步，畫面更順暢|
|節能|背景分頁仍會持續執行|背景分頁自動暫停，不浪費資源|

---

[[2025-10-21|2025-10-21 Tue, 23:57]]
感覺撰寫文件階段，使用 gemini-cli 的效果更好。
當我沒說。講一講馬上達到免費上限。

---

[[2025-10-20|2025-10-20 Mon, 22:54]]
撰寫 PRD 文件時，不要讓 agent 實作範例程式碼細節、定義程式語言資料結構。
流程用自然語言講解，這可以說是最高級的抽象了，而且又好讀。
資料格式的話，我比較喜歡以無關程式語言的 json, protocol buffer 來定義。

使用到的框架、技術，點到為止就好。

---

[[2025-10-19|2025-10-19 Sun, 11:43]]
用 spec-kit 下來的體驗是，相比以往慢慢與 ai 對話的方式 vibe coding ，spec-kit 可預期化很多。
但是仍然不完美。

對於工程稱，使用 vibe coding 應該要有一個守則：不要用你不了解的程式碼。

甚至嚴格一點來說，AI 生成的程式碼，你要有一定程度的把握。


